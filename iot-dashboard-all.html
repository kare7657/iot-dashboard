<!doctype html>
<html lang="zh-hant">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>全系統儀表板</title>
	<link rel="stylesheet" href="scss/bootstrap.4.2.css">
	<link rel="stylesheet" href="scss/style.css">
</head>

<body>
	<div class="container">
		<div class="card col-12 col-sm-12 col-xl-8">
			<div class="title-select">
				<div class="right w-100 justify-content-start">
					<div class="icon">
						<a href="iot-dashboard-unity-station.html"><img src="img/squared-bullet-list.svg" alt="查詢全系統物理量"
								class="back m-0"></a>
					</div>
					<div class="icon">
						<a href="iot-dashboard-organ-gp.html"><img src="img/chevron-circle-right-solid.svg"
								alt="檢視機關群組資料" class="next m-0"></a>
					</div>
				</div>
			</div>
			<div class="chart-gp">
				<div class=" doughnut">
					<h3 class="text-center">機關數量</h3>
					<canvas class="doughunt-canvas" id="doughunt-canvas"></canvas>
				</div>
				<div class=" doughnut">
					<h3 class="text-center">設備數量</h3>
					<canvas class="doughunt-canvas" id="doughunt-canvas2"></canvas>
				</div>
				<div class=" doughnut">
					<h3 class="text-center">監測站數量</h3>
					<canvas class="doughunt-canvas" id="doughunt-canvas3"></canvas>
				</div>
				<div class=" doughnut">
					<h3 class="text-center">物理量數量</h3>
					<canvas class="doughunt-canvas" id="doughunt-canvas4"></canvas>
				</div>
			</div>

			<div class="remark">
				<div class="text-gp">
					<div class="square blue"></div>
					<p>水利署</p>
				</div>
				<div class="text-gp">
					<div class="square yellow"></div>
					<p>縣市政府</p>
				</div>
				<div class="text-gp">
					<div class="square green"></div>
					<p>農田水利署</p>
				</div>
				<div class="text-gp">
					<div class="square orange"></div>
					<p>營建署</p>
				</div>
				<div class="text-gp">
					<div class="square purple"></div>
					<p>其他單位</p>
				</div>
			</div>
		</div>
		<div class="card col-12 col-sm-12 col-xl-4">

			<h3 class="text-center mb-0">資料品質</h3>

			<!-- knob-gp1 -->
			<div class="knob-gp active" id="knob-gp1">
				<div class="knob">
					<p>監測站</p>
					<input type="text" value="20" class="dial" id="dial">
				</div>
				<div class="knob">
					<p>設備</p>
					<input type="text" value="62" class="dial" id="dial2">
				</div>
				<div class="knob">
					<p>物理量</p>
					<input type="text" value="80" class="dial" id="dial3">
				</div>
				<div class="knob">
					<p>資料中斷</p>
					<input type="text" value="35" class="dial" id="dial4">
				</div>
			</div>
			<!-- knob-gp2 -->
			<div class="knob-gp" id="knob-gp2">
				<div class="knob">
					<p>監測站</p>
					<input type="text" value="85" class="dial" id="dial5">
				</div>
				<div class="knob">
					<p>設備</p>
					<input type="text" value="20" class="dial" id="dial6">
				</div>
				<div class="knob">
					<p>物理量</p>
					<input type="text" value="50" class="dial" id="dial7">
				</div>
				<div class="knob">
					<p>資料中斷</p>
					<input type="text" value="70" class="dial" id="dial8">
				</div>
			</div>
		</div>

		<div class="card col-12 col-sm-12 col-xl-2">
			<div class="total-num-gp">
				<div class="num">
					<h4 class="num-title">
						機關數量
					</h4>
					<div class="num-content">
						40
					</div>
				</div>
				<div class="num">
					<h4 class="num-title">
						監測站數量
					</h4>
					<div class="num-content">
						7,149
					</div>
				</div>
				<div class="num">
					<h4 class="num-title">
						設備數量
					</h4>
					<div class="num-content">
						4,828
					</div>
				</div>
				<div class="num">
					<h4 class="num-title">
						物理量數量
					</h4>
					<div class="num-content">
						27,244
					</div>
				</div>
			</div>

		</div>
		<div class="card col-12 col-sm-6 col-xl-5">
			<div class="chart-gp">
				<div class=" chart">
					<h3 class="text-center">物理量分類統計(top N)</h3>
					<canvas id="horizontal-bar" class="chart-canvas"></canvas>
				</div>
			</div>
		</div>
		<div class="card col-12 col-sm-6 col-xl-5">
			<div class="chart-gp">
				<div class=" chart">
					<h3 class="text-center">淹水感測器,水位站 數量統計</h3>
					<canvas id="bar-chart" class="chart-canvas"></canvas>
				</div>
			</div>
		</div>
	</div>

	<!-- jQuery Knob -->
	<script src="js/jquery.min.js"></script>
	<script src="js/jquery.knob.min.js"></script>
	<!-- bootstrap -->
	<script src="js/bootstrap.min.4.2.js"></script>
	<script src="js/popper.min.js"></script>
	<!-- chartjs -->
	<script src="js/chart2.8.js"></script>
	<script src="js/utils.js"></script>
	<script src="js/chartjs-plugin-labels.min.js"></script>

	<!-- 資料品質 jQuery Knob -->
	<script>
		//選單切換
		// var knob_gp1 = document.querySelector("#knob-gp1")
		// var knob_gp2 = document.querySelector("#knob-gp2")

		// function clear_active() {
		// 	knob_gp1.classList.remove("active")
		// 	knob_gp2.classList.remove("active")
		// }

		// var selectmenu = document.getElementById("select1")
		// selectmenu.onchange = function () {
		// 	var chosenoption = this.options[this.selectedIndex]
		// 	if (chosenoption.value == "option1") {
		// 		clear_active()
		// 		knob_gp1.classList.toggle("active")
		// 	} else if (chosenoption.value == "option2") {
		// 		clear_active()
		// 		knob_gp2.classList.toggle("active")
		// 	}
		// }

		// RWD
		if (jQuery(window).width() < 568) {
			$("#dial").knob({
				"fgColor": "#37AFFF",
				'width': 100,
				'height': 100,
				'readOnly': true,
			});
			$("#dial2").knob({
				"fgColor": "#FFB266",
				'width': 100,
				'height': 100,
				'readOnly': true,
			});
			$("#dial3").knob({
				"fgColor": "#6FCDCD",
				'width': 100,
				'height': 100,
				'readOnly': true,
			});
			$("#dial4").knob({
				"fgColor": "#AD85FF",
				'width': 100,
				'height': 100,
				'readOnly': true,
			});
			$("#dial5").knob({
				"fgColor": "#37AFFF",
				'width': 100,
				'height': 100,
				'readOnly': true,
			});
			$("#dial6").knob({
				"fgColor": "#FFB266",
				'width': 100,
				'height': 100,
				'readOnly': true,
			});
			$("#dial7").knob({
				"fgColor": "#6FCDCD",
				'width': 100,
				'height': 100,
				'readOnly': true,
			});
			$("#dial8").knob({
				"fgColor": "#AD85FF",
				'width': 100,
				'height': 100,
				'readOnly': true,
			});
		}
		else if (jQuery(window).width() < 1200) {
			$("#dial").knob({
				"fgColor": "#37AFFF",
				'width': 120,
				'height': 120,
				'readOnly': true,
			});
			$("#dial2").knob({
				"fgColor": "#FFB266",
				'width': 120,
				'height': 120,
				'readOnly': true,
			});
			$("#dial3").knob({
				"fgColor": "#6FCDCD",
				'width': 120,
				'height': 120,
				'readOnly': true,
			});
			$("#dial4").knob({
				"fgColor": "#AD85FF",
				'width': 120,
				'height': 120,
				'readOnly': true,
			});
			$("#dial5").knob({
				"fgColor": "#37AFFF",
				'width': 120,
				'height': 120,
				'readOnly': true,
			});
			$("#dial6").knob({
				"fgColor": "#FFB266",
				'width': 120,
				'height': 120,
				'readOnly': true,
			});
			$("#dial7").knob({
				"fgColor": "#6FCDCD",
				'width': 120,
				'height': 120,
				'readOnly': true,
			});
			$("#dial8").knob({
				"fgColor": "#AD85FF",
				'width': 120,
				'height': 120,
				'readOnly': true,
			});
		}
		else if (jQuery(window).width() < 1600) {
			$("#dial").knob({
				"fgColor": "#37AFFF",
				'width': 80,
				'height': 80,
				'readOnly': true,
			});
			$("#dial2").knob({
				"fgColor": "#FFB266",
				'width': 80,
				'height': 80,
				'readOnly': true,
			});
			$("#dial3").knob({
				"fgColor": "#6FCDCD",
				'width': 80,
				'height': 80,
				'readOnly': true,
			});
			$("#dial4").knob({
				"fgColor": "#AD85FF",
				'width': 80,
				'height': 80,
				'readOnly': true,
			});
			$("#dial5").knob({
				"fgColor": "#37AFFF",
				'width': 80,
				'height': 80,
				'readOnly': true,
			});
			$("#dial6").knob({
				"fgColor": "#FFB266",
				'width': 80,
				'height': 80,
				'readOnly': true,
			});
			$("#dial7").knob({
				"fgColor": "#6FCDCD",
				'width': 80,
				'height': 80,
				'readOnly': true,
			});
			$("#dial8").knob({
				"fgColor": "#AD85FF",
				'width': 80,
				'height': 80,
				'readOnly': true,
			});
		}
		else {
			$("#dial").knob({
				"fgColor": "#37AFFF",
				'width': 95,
				'height': 95,
				'readOnly': true,
			});
			$("#dial2").knob({
				"fgColor": "#FFB266",
				'width': 95,
				'height': 95,
				'readOnly': true,
			});
			$("#dial3").knob({
				"fgColor": "#6FCDCD",
				'width': 95,
				'height': 95,
				'readOnly': true,
			});
			$("#dial4").knob({
				"fgColor": "#AD85FF",
				'width': 95,
				'height': 95,
				'readOnly': true,
			});
			$("#dial5").knob({
				"fgColor": "#37AFFF",
				'width': 95,
				'height': 95,
				'readOnly': true,
			});
			$("#dial6").knob({
				"fgColor": "#FFB266",
				'width': 95,
				'height': 95,
				'readOnly': true,
			});
			$("#dial7").knob({
				"fgColor": "#6FCDCD",
				'width': 95,
				'height': 95,
				'readOnly': true,
			});
			$("#dial8").knob({
				"fgColor": "#AD85FF",
				'width': 95,
				'height': 95,
				'readOnly': true,
			});
		}
	</script>

	<!-- doughunt-chart -->
	<script>
		var randomScalingFactor = function () {
			return Math.round(Math.random() * 100);
		};
		var color = Chart.helpers.color;


		window.onload = function () {
			var ctx = document.getElementById('doughunt-canvas').getContext('2d');
			window.myDoughnut = new Chart(ctx, config);
			var ctx2 = document.getElementById('doughunt-canvas2').getContext('2d');
			window.myDoughnut = new Chart(ctx2, config2);
			var ctx3 = document.getElementById('doughunt-canvas3').getContext('2d');
			window.myDoughnut = new Chart(ctx3, config3);
			var ctx4 = document.getElementById('doughunt-canvas4').getContext('2d');
			window.myDoughnut = new Chart(ctx4, config4);
		};

		var config = {
			type: 'doughnut',
			data: {
				datasets: [{
					data: [
						20,
						30,
						20,
						10,
						20
					],
					backgroundColor: [
						color(window.chartColors.blue).alpha(0.8).rgbString(),
						color(window.chartColors.yellow).alpha(0.8).rgbString(),
						color(window.chartColors.green).alpha(0.8).rgbString(),
						color(window.chartColors.orange).alpha(0.8).rgbString(),
						color(window.chartColors.purple).alpha(0.8).rgbString(),
					],
					label: 'Dataset 1'
				}],
				labels: [
					'水利署',
					'縣市政府',
					'農田水利署',
					'營建署',
					'其他單位'
				]
			},

			options: {
				responsive: true,
				maintainAspectRatio: false,

				plugins: {
					legend: {
						position: 'top',
					},
					labels:
						[{
							render: 'label',
							position: 'outside',
							textMargin: -2,
							arc: true,
							fontSize: 13,
						}, {
							render: 'percentage',
							fontSize: 14,
							fontColor: 'white',
							textShadow: true,
							shadowColor: 'rgba(0,0,0,1)',
							shadowOffsetX: 0,
							shadowOffsetY: 0,
							shadowBlur: 5,
						}]
				},
				animation: {
					animateScale: true,
					animateRotate: true
				},
				// 隱藏label
				legend: {
					display: false,
				}
			}
		};

		var config2 = {
			type: 'doughnut',
			data: {
				datasets: [{
					data: [
						10,
						20,
						40,
						10,
						20
					],
					backgroundColor: [
						color(window.chartColors.blue).alpha(0.8).rgbString(),
						color(window.chartColors.yellow).alpha(0.8).rgbString(),
						color(window.chartColors.green).alpha(0.8).rgbString(),
						color(window.chartColors.orange).alpha(0.8).rgbString(),
						color(window.chartColors.purple).alpha(0.8).rgbString(),
					],
					label: 'Dataset 1'
				}],
				labels: [
					'水利署',
					'縣市政府',
					'農田水利署',
					'營建署',
					'其他單位'
				]
			},

			options: {
				responsive: true,
				maintainAspectRatio: false,
				plugins: {
					legend: {
						position: 'top',
					},
					labels:
						[{
							render: 'label',
							position: 'outside',
							textMargin: -2,
							arc: true,
							fontSize: 13,
						}, {
							render: 'percentage',
							fontSize: 14,
							fontColor: 'white',
							textShadow: true,
							shadowColor: 'rgba(0,0,0,1)',
							shadowOffsetX: 0,
							shadowOffsetY: 0,
							shadowBlur: 5,
						}]
				},
				animation: {
					animateScale: true,
					animateRotate: true
				},
				// 隱藏label
				legend: {
					display: false,
				}
			}
		};

		var config3 = {
			type: 'doughnut',
			data: {
				datasets: [{
					data: [
						30,
						20,
						30,
						10,
						10
					],
					backgroundColor: [
						color(window.chartColors.blue).alpha(0.8).rgbString(),
						color(window.chartColors.yellow).alpha(0.8).rgbString(),
						color(window.chartColors.green).alpha(0.8).rgbString(),
						color(window.chartColors.orange).alpha(0.8).rgbString(),
						color(window.chartColors.purple).alpha(0.8).rgbString(),
					],
					label: 'Dataset 1'
				}],
				labels: [
					'水利署',
					'縣市政府',
					'農田水利署',
					'營建署',
					'其他單位'
				]
			},

			options: {
				responsive: true,
				maintainAspectRatio: false,
				plugins: {
					legend: {
						position: 'top',
					},
					labels:
						[{
							render: 'label',
							position: 'outside',
							textMargin: -2,
							arc: true,
							fontSize: 13,
						}, {
							render: 'percentage',
							fontSize: 14,
							fontColor: 'white',
							textShadow: true,
							shadowColor: 'rgba(0,0,0,1)',
							shadowOffsetX: 0,
							shadowOffsetY: 0,
							shadowBlur: 5,
						}]
				},
				animation: {
					animateScale: true,
					animateRotate: true
				},
				// 隱藏label
				legend: {
					display: false,
				}
			}
		};

		var config4 = {
			type: 'doughnut',
			data: {
				datasets: [{
					data: [
						10,
						10,
						30,
						25,
						25
					],
					backgroundColor: [
						color(window.chartColors.blue).alpha(0.8).rgbString(),
						color(window.chartColors.yellow).alpha(0.8).rgbString(),
						color(window.chartColors.green).alpha(0.8).rgbString(),
						color(window.chartColors.orange).alpha(0.8).rgbString(),
						color(window.chartColors.purple).alpha(0.8).rgbString(),
					],
					label: 'Dataset 1'
				}],
				labels: [
					'水利署',
					'縣市政府',
					'農田水利署',
					'營建署',
					'其他單位'
				]
			},

			options: {
				responsive: true,
				maintainAspectRatio: false,
				plugins: {
					legend: {
						position: 'top',
					},
					labels:
						[{
							render: 'label',
							position: 'outside',
							textMargin: -2,
							arc: true,
							fontSize: 13,
						}, {
							render: 'percentage',
							fontSize: 14,
							fontColor: 'white',
							textShadow: true,
							shadowColor: 'rgba(0,0,0,1)',
							shadowOffsetX: 0,
							shadowOffsetY: 0,
							shadowBlur: 5,
						}]
				},
				animation: {
					animateScale: true,
					animateRotate: true
				},
				// 隱藏label
				legend: {
					display: false,
				}
			}
		};

	</script>

	<!--橫向bar-horizontal-bar -->
	<script>
		var ctx5 = document.getElementById('horizontal-bar').getContext('2d');
		var color = Chart.helpers.color;
		var myChart = new Chart(ctx5, {
			type: 'horizontalBar',
			data: {
				labels: ['淹水感測器', '水位站', '閘門', '電力'],
				datasets: [{
					data: [12, 19, 3, 10, 7, 6, 9],
					backgroundColor: color(window.chartColors.green).alpha(0.8).rgbString(),
					borderWidth: 0
				}]
			},
			options: {
				responsive: true,
				maintainAspectRatio: false,
				scales: {
					xAxes: [{
						ticks: {
							beginAtZero: true
						}
					}],
					yAxes: [{
						barPercentage: 0.8
					}]
				},
				// 隱藏label
				legend: {
					display: false,
				}
			}
		});
	</script>

	<!-- 直向bar-chart -->
	<script>
		var color = Chart.helpers.color;
		var barChartData3 = {
			labels: ['淹水感測器', '水位站'],
			datasets: [{
				label: '水利署',
				backgroundColor: color(window.chartColors.blue).alpha(0.8).rgbString(),
				borderWidth: 0,
				data: [28, 48]
			},
			{
				label: '縣市政府',
				backgroundColor: color(window.chartColors.yellow).alpha(0.8).rgbString(),
				borderWidth: 0,
				data: [65, 59]
			}]
		};

		var ctx6 = document.getElementById('bar-chart').getContext('2d');
		window.myBar3 = new Chart(ctx6, {
			type: 'bar',
			data: barChartData3,
			options: {
				responsive: true,
				maintainAspectRatio: false,
				plugins: {
					legend: {
						position: 'top',
					},
					labels: {
						fontColor: 'transparent',
					}
				},
				scales: {
					xAxes: [{
						barPercentage: 0.7
					}],
					yAxes: [{
						ticks: {
							// 起始座標為0
							beginAtZero: true
						}
					}]
				},

			}
		});
	</script>


</body>

</html>